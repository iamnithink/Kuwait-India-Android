{"version":3,"sources":["webpack:///./src/app/forgot-password/forgot-password.module.ts","webpack:///./src/app/forgot-password/forgot-password.page.html","webpack:///./src/app/forgot-password/forgot-password.page.scss","webpack:///./src/app/forgot-password/forgot-password.page.ts"],"names":[],"mappings":"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","file":"forgot-password-forgot-password-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Routes, RouterModule } from '@angular/router';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { ForgotPasswordPage } from './forgot-password.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ForgotPasswordPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ReactiveFormsModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [ForgotPasswordPage]\n})\nexport class ForgotPasswordPageModule {}\n","module.exports = \"<ion-header no-border>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button text=\\\"\\\" color=\\\"light\\\"></ion-back-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content fullscreen>\\n  <div class=\\\"container\\\">\\n    <div class=\\\"header\\\" style=\\\"height: 20vh; max-height: 20vh\\\">\\n      <h1 class=\\\"big-title\\\" style=\\\"color: white\\\">Forgot Password</h1>\\n    </div>\\n    <div class=\\\"content\\\">\\n      <form [formGroup]=\\\"forgotpasswordForm\\\">\\n        <ion-item style=\\\"--padding-start: 0px\\\">\\n          <ion-label position=\\\"floating\\\">User ID</ion-label>\\n          <ion-input formControlName=\\\"username\\\" required autocapitalize=\\\"on\\\" (ionBlur)=\\\"capitalize()\\\">\\n          </ion-input>\\n        </ion-item>\\n        <ion-grid no-padding>\\n          <ion-row no-padding>\\n            <ion-col size=\\\"10\\\" no-padding>\\n              <ion-item style=\\\"--padding-start: 0px\\\">\\n                <ion-label position=\\\"floating\\\">Password</ion-label>\\n                <ion-input formControlName=\\\"password\\\" required [type]=\\\"passwordType\\\"></ion-input>\\n              </ion-item>\\n            </ion-col>\\n            <ion-col size=\\\"2\\\" no-padding style=\\\"padding-top: 15px\\\">\\n              <ion-button fill=\\\"clear\\\" (click)=\\\"didClickPasswordChange(1)\\\">\\n                <ion-icon *ngIf=\\\"passwordType === 'password'\\\" slot=\\\"icon-only\\\" name=\\\"eye\\\"></ion-icon>\\n                <ion-icon *ngIf=\\\"passwordType === 'text'\\\" slot=\\\"icon-only\\\" name=\\\"eye-off\\\"></ion-icon>\\n              </ion-button>\\n            </ion-col>\\n          </ion-row>\\n          <ion-row>\\n            <ion-col size=\\\"10\\\" no-padding>\\n              <ion-item style=\\\"--padding-start: 0px\\\">\\n                <ion-label position=\\\"floating\\\">Confirm Password</ion-label>\\n                <ion-input formControlName=\\\"confirmPassword\\\" required [type]=\\\"confirmPasswordType\\\"></ion-input>\\n              </ion-item>\\n            </ion-col>\\n            <ion-col size=\\\"2\\\" no-padding style=\\\"padding-top: 15px\\\">\\n              <ion-button fill=\\\"clear\\\" (click)=\\\"didClickPasswordChange(2)\\\">\\n                <ion-icon *ngIf=\\\"confirmPasswordType === 'password'\\\" slot=\\\"icon-only\\\" name=\\\"eye\\\"></ion-icon>\\n                <ion-icon *ngIf=\\\"confirmPasswordType === 'text'\\\" slot=\\\"icon-only\\\" name=\\\"eye-off\\\"></ion-icon>\\n              </ion-button>\\n            </ion-col>\\n          </ion-row>\\n        </ion-grid>\\n      </form>\\n\\n      <ion-button class=\\\"login-btn\\\" expand=\\\"block\\\" size=\\\"large\\\" (click)=\\\"forgotPasswordSubmit()\\\">\\n        SUBMIT\\n      </ion-button>\\n    </div>\\n  </div>\\n</ion-content>\"","module.exports = \":host ion-content {\\n  --background: linear-gradient(#0073d6, #84dffd, #00c0ff); }\\n\\n:host .login-btn {\\n  margin: 32px 0px 0px 0px;\\n  --border-radius: 6px; }\\n\\n:host .bottom-hard {\\n  position: absolute;\\n  width: 90%;\\n  padding: 0 40px 20px 0px;\\n  bottom: 0; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL25pdGhpbi9mb2xrc2xvZ2ljL3Rlc3QvS3V3YWl0IEluZGlhIEFuZHJvaWQvc3JjL2FwcC9mb3Jnb3QtcGFzc3dvcmQvZm9yZ290LXBhc3N3b3JkLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUVNLHdEQUFhLEVBQUE7O0FBRm5CO0VBS00sd0JBQXdCO0VBQ3hCLG9CQUFnQixFQUFBOztBQU50QjtFQVNNLGtCQUFrQjtFQUNsQixVQUFVO0VBQ1Ysd0JBQXdCO0VBQ3hCLFNBQVMsRUFBQSIsImZpbGUiOiJzcmMvYXBwL2ZvcmdvdC1wYXNzd29yZC9mb3Jnb3QtcGFzc3dvcmQucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xuICAgIGlvbi1jb250ZW50IHtcbiAgICAgIC0tYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KCMwMDczZDYsICM4NGRmZmQsICMwMGMwZmYpO1xuICAgIH1cbiAgICAubG9naW4tYnRuIHtcbiAgICAgIG1hcmdpbjogMzJweCAwcHggMHB4IDBweDtcbiAgICAgIC0tYm9yZGVyLXJhZGl1czogNnB4O1xuICAgIH1cbiAgICAuYm90dG9tLWhhcmQge1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgd2lkdGg6IDkwJTtcbiAgICAgIHBhZGRpbmc6IDAgNDBweCAyMHB4IDBweDtcbiAgICAgIGJvdHRvbTogMDtcbiAgICB9XG4gIH1cbiAgIl19 */\"","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { AuthService } from '../api/auth/auth.service';\nimport { UtilsProviderService } from '../utils/utils-provider.service';\nimport { StorageService } from '../api/storage/storage.service';\nimport { Push } from '@ionic-native/push/ngx';\nimport { SignupPost } from '../models/signup-post.interface';\nimport { AlertController, NavController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-forgot-password',\n  templateUrl: './forgot-password.page.html',\n  styleUrls: ['./forgot-password.page.scss'],\n})\nexport class ForgotPasswordPage implements OnInit {\n  forgotpasswordForm: FormGroup;\n  passwordType: string = 'password';\n  confirmPasswordType: string = 'password';\n  postData: SignupPost;\n\n  constructor(\n    private formBuilder: FormBuilder,\n    private router: Router,\n    private authService: AuthService,\n    private utils: UtilsProviderService,\n    private navCtrl: NavController,\n    private push: Push,\n    private alertController: AlertController,\n  ) { }\n  ngOnInit() {\n    this.forgotpasswordForm = this.formBuilder.group({\n      username: ['', Validators.compose([Validators.required, Validators.maxLength(15)])],\n      password: [\n        '',\n        Validators.compose([\n          Validators.required,\n          Validators.pattern('^([a-zA-Z0-9~!@#$%^&*()_\\\\-+=|\\\\/?><;:.,]{5,30})$'),\n        ]),\n      ],\n      confirmPassword: ['', Validators.compose([Validators.required])],\n    });\n  }\n\n  async forgotPasswordSubmit() {\n    if (this.forgotpasswordForm.valid) {\n      // this.capitalize();\n      if (this.forgotpasswordForm.value.password === this.forgotpasswordForm.value.confirmPassword) {\n        const paswd = /^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{7,15}$/;\n        if (this.forgotpasswordForm.value.password.match(paswd)) {\n          this.postData = {\n            UserID: this.forgotpasswordForm.value.username,\n            Password: this.forgotpasswordForm.value.password,\n          };\n          this.authService.getOtp(this.forgotpasswordForm.value.username).subscribe(\n            async res => {\n              if (res.Status === '00') {\n                this.utils.hideLoader();\n                const alert = await this.alertController.create({\n                  header: 'Enter OTP',\n                  inputs: [\n                    {\n                      name: 'otp',\n                      type: 'number',\n                      max: 999999,\n                      min: 0,\n                      placeholder: 'OTP',\n                    },\n                  ],\n                  buttons: [\n                    {\n                      text: 'Cancel',\n                      role: 'cancel',\n                    },\n                    {\n                      text: 'Submit',\n                      handler: data => {\n                        if (data.otp === res.OTP) {\n                          this.authService.forgotPassword(this.postData.UserID, this.postData.Password, data.otp).subscribe(\n                            async response => {\n                              if (response.Status === '00') {\n                                this.utils.hideLoader();\n                                this.utils.showToast('OTP verified and password changed successfully.', 5000);\n                                this.navCtrl.navigateRoot('/login');                                \n                              } else if (response.Status === '01') {\n                                this.utils.hideLoader();\n                                this.utils.showAlert('Error', response.ErrorDesc);\n                              } else {\n                                this.utils.hideLoader();\n                                this.utils.showAlert('Error', 'Something went wrong');\n                              }\n                            },\n                            err => {\n                              this.utils\n                                .showAlert('Error', 'Some error occured. Please try again.')\n                                .then(() => this.utils.hideLoader());\n                            }\n                          );\n                        } else {\n                          this.utils.showToast('OTP verification failed. Please try again.');\n                        }\n                      },\n                    },\n                  ],\n                });\n                await alert.present();\n              } else {\n                this.utils.hideLoader();\n                this.utils.showAlert('Error', 'Something went wrong');\n              }\n            },\n            err => {\n              this.utils\n                .showAlert('Error', 'Some error occured. Please try again.')\n                .then(() => this.utils.hideLoader());\n            }\n          );\n        } else {\n          this.utils.showAlert('Error', 'Check length and allowed characters - Min 7 with Number, Alpha and Special.');\n        }\n      } else {\n        this.utils.showAlert('Error', 'Passwords doesn\\'t match. Please check and try again.');\n      }\n    } else {\n      this.utils.showAlert('Error', 'Please fill all the information correctly to proceed.');\n    }\n  }\n\n  capitalize() {\n    const capitalized = this.forgotpasswordForm.value.username.toUpperCase();\n    this.forgotpasswordForm.patchValue({ username4: capitalized });\n  }\n\n  didClickPasswordChange(type: Number) {\n    switch (type) {\n      case 1:\n        this.passwordType = this.passwordType === 'text' ? 'password' : 'text';\n        break;\n      case 2:\n        this.confirmPasswordType = this.confirmPasswordType === 'text' ? 'password' : 'text';\n        break;\n      default:\n        break;\n    }\n  }\n\n}\n"],"sourceRoot":""}