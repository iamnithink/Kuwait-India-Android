{"version":3,"sources":["webpack:///./src/app/settings/settings.module.ts","webpack:///./src/app/settings/settings.page.html","webpack:///./src/app/settings/settings.page.scss","webpack:///./src/app/settings/settings.page.ts"],"names":[],"mappings":"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","file":"settings-settings-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SettingsPage } from './settings.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SettingsPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [SettingsPage]\n})\nexport class SettingsPageModule {}\n","module.exports = \"<ion-header no-border>\\n  <ion-toolbar [class.show-background]=\\\"showToolbar\\\" style=\\\"padding: 8px 0 8px 0\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button text=\\\"\\\" [color]=\\\"currentColor\\\"></ion-back-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content fullscreen (ionScroll)=\\\"onScroll($event)\\\" [scrollEvents]=\\\"true\\\" *ngIf=\\\"user\\\">\\n  <div class=\\\"container\\\">\\n    <div class=\\\"header\\\" style=\\\"height: 20vh; min-height: 20vh\\\">\\n      <ion-item style=\\\"--background: transparent\\\" lines=\\\"none\\\">\\n        <div class=\\\"menu-avatar\\\" style=\\\"margin: 0 16px 0 0\\\" [ngStyle]=\\\"{background: avatarBackground2}\\\">\\n          {{user.Name | slice:0:1}}\\n        </div>\\n        <ion-label style=\\\"max-width: 100%\\\">\\n          <h2 class=\\\"white-text\\\">\\n            {{user.Name}}\\n          </h2>\\n          <h3 class=\\\"white-text\\\">\\n            {{user.Nationality}}\\n          </h3>\\n        </ion-label>\\n      </ion-item>\\n    </div>\\n    <div class=\\\"content\\\" style=\\\"padding: 24px 24px\\\">\\n      <ion-list>\\n        <ion-label style=\\\"font-weight: bold\\\" class=\\\"title-color\\\">Account</ion-label>\\n        <ion-item>\\n          <ion-icon src=\\\"../../assets/phone.svg\\\" slot=\\\"start\\\"></ion-icon>\\n          <ion-label>\\n            <div class=\\\"title-color\\\">Mobile</div>\\n            <div class=\\\"subtitle-color\\\">{{user.Mobile}}</div>\\n          </ion-label>\\n        </ion-item>\\n        <ion-item>\\n          <ion-icon src=\\\"../../assets/email.svg\\\" slot=\\\"start\\\"></ion-icon>\\n          <ion-label>\\n            <div class=\\\"title-color\\\">Email</div>\\n            <div class=\\\"subtitle-color\\\">{{user.Email}}</div>\\n          </ion-label>\\n        </ion-item>\\n        <ion-item lines=\\\"none\\\">\\n          <ion-icon src=\\\"../../assets/language.svg\\\" slot=\\\"start\\\"></ion-icon>\\n          <ion-label>\\n            <div class=\\\"title-color\\\">Language</div>\\n            <div class=\\\"subtitle-color\\\">English</div>\\n          </ion-label>\\n        </ion-item>\\n      </ion-list>\\n      <ion-list style=\\\"margin-top: 16px\\\">\\n\\n        <ion-label style=\\\"font-weight: bold;\\\" class=\\\"title-color\\\">Privacy & Security</ion-label>\\n        <ion-item (click)=\\\"changePassword()\\\">\\n          <ion-icon src=\\\"../../assets/lock.svg\\\" slot=\\\"start\\\"></ion-icon>\\n          <ion-label>\\n            <div class=\\\"title-color\\\">Security</div>\\n            <div class=\\\"subtitle-color\\\">Change Password</div>\\n          </ion-label>\\n        </ion-item>\\n        <ion-item>\\n          <ion-icon src=\\\"../../assets/notification.svg\\\" slot=\\\"start\\\"></ion-icon>\\n          <ion-label>\\n            <div class=\\\"title-color\\\">Notifications</div>\\n            <div class=\\\"subtitle-color\\\">Turn Notifications on/off</div>\\n          </ion-label>\\n          <ion-toggle slot=\\\"end\\\" [(ngModel)]=\\\"isNotificationsEnabled\\\" (ionChange)=\\\"toggleNotifications()\\\"></ion-toggle>\\n        </ion-item>\\n        <ion-item (click)=\\\"onLogout()\\\">\\n          <ion-icon src=\\\"../../assets/logout.svg\\\" slot=\\\"start\\\"></ion-icon>\\n          <ion-label>\\n            <div class=\\\"title-color\\\">Logout</div>\\n            <div class=\\\"subtitle-color\\\">Click here to log out of the app</div>\\n          </ion-label>\\n        </ion-item>\\n\\n      </ion-list>\\n    </div>\\n  </div>\\n</ion-content>\"","module.exports = \"ion-content {\\n  --background: linear-gradient(#0073d6, #84dffd, #00c0ff); }\\n\\nion-item {\\n  --padding-start: 0; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL25pdGhpbi9mb2xrc2xvZ2ljL3Rlc3QvS3V3YWl0IEluZGlhIEFuZHJvaWQvc3JjL2FwcC9zZXR0aW5ncy9zZXR0aW5ncy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSx3REFBYSxFQUFBOztBQUdqQjtFQUNJLGtCQUFnQixFQUFBIiwiZmlsZSI6InNyYy9hcHAvc2V0dGluZ3Mvc2V0dGluZ3MucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWNvbnRlbnQge1xuICAgIC0tYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KCMwMDczZDYsICM4NGRmZmQsICMwMGMwZmYpO1xufVxuXG5pb24taXRlbSB7XG4gICAgLS1wYWRkaW5nLXN0YXJ0OiAwO1xufSJdfQ== */\"","import { Component, OnInit, NgZone } from \"@angular/core\";\nimport { ScrollDetail } from \"@ionic/core\";\nimport { StorageService } from \"../api/storage/storage.service\";\nimport { User } from \"../models/user.interface\";\nimport { NavController, AlertController } from \"@ionic/angular\";\nimport { AuthService } from \"../api/auth/auth.service\";\nimport { UtilsProviderService } from \"../utils/utils-provider.service\";\nimport { Push, PushOptions, PushObject } from \"@ionic-native/push/ngx\";\nimport { Notification } from \"../models/notification.interface\";\n\n@Component({\n  selector: \"app-settings\",\n  templateUrl: \"./settings.page.html\",\n  styleUrls: [\"./settings.page.scss\"],\n})\nexport class SettingsPage implements OnInit {\n  showToolbar = false;\n  currentColor = \"light\";\n\n  isNotificationsEnabled: boolean;\n\n  user: User;\n\n  avatarBackground2 = this.avatarBackgroundMethod();\n\n  constructor(\n    private storage: StorageService,\n    private navCtrl: NavController,\n    private alertController: AlertController,\n    private auth: AuthService,\n    private utils: UtilsProviderService,\n    private push: Push,\n    private zone: NgZone\n  ) {\n    storage.getUser().then(res => {\n      this.user = res;\n    });\n  }\n\n  ionViewWillEnter() {\n    this.storage.getNotificationStatus().then(status => {\n      this.zone.run(() => {\n        this.isNotificationsEnabled = status;\n      });\n    });\n  }\n\n  toggleNotifications() {\n    this.storage.setNotificationStatus(this.isNotificationsEnabled);\n    if (this.isNotificationsEnabled) {\n      this.registerPush();\n    } else {\n      const options: PushOptions = {\n        android: {\n          icon: \"ic_notif\",\n          iconColor: \"#00bfff\",\n        },\n        ios: {\n          alert: \"true\",\n          badge: true,\n          sound: \"true\",\n        },\n        windows: {},\n        browser: {\n          pushServiceURL: \"http://push.api.phonegap.com/v1/push\",\n        },\n      };\n\n      const pushObject: PushObject = this.push.init(options);\n      pushObject.unregister().then(() => {\n        console.log(\"Unsubscribed from Notifications\");\n      });\n    }\n  }\n\n  registerPush() {\n    // to check if we have permission\n    this.push.hasPermission().then((res: any) => {\n      if (res.isEnabled) {\n        console.log(\"We have permission to send push notifications\");\n      } else {\n        console.log(\"We do not have permission to send push notifications\");\n      }\n    });\n\n    const options: PushOptions = {\n      android: {\n        icon: \"ic_notif\",\n        iconColor: \"#00bfff\",\n      },\n      ios: {\n        alert: \"true\",\n        badge: true,\n        sound: \"true\",\n      },\n      windows: {},\n      browser: {\n        pushServiceURL: \"http://push.api.phonegap.com/v1/push\",\n      },\n    };\n\n    const pushObject: PushObject = this.push.init(options);\n\n    pushObject.on(\"notification\").subscribe((notification: any) => {\n      console.log(\"Received a notification\", notification);\n      let date = new Date();\n      var months = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sept\", \"Oct\", \"Nov\", \"Dec\"];\n      let num1 = date.getDate();\n      let num;\n      if (String(num1).length === 1) {\n        num = \"0\" + num1;\n      }\n      let storeData: Notification = {\n        title: notification.title,\n        body: notification.message,\n        date: `${num}`,\n        color: notification.additionalData.color,\n        ts: notification.additionalData.ts,\n        month: `${months[date.getMonth()]}`,\n      };\n      this.storage.setNotification(storeData).then(() => {\n        this.storage.increaseUnreadCount().then(count => {\n          if (count) {\n            console.log(\"Increased the count\");\n          }\n          pushObject.finish().then(\n            () => {\n              console.log(\"success\");\n            },\n            () => {\n              console.log(\"error\");\n            }\n          );\n        });\n      });\n    });\n\n    pushObject.on(\"registration\").subscribe((registration: any) => {\n      console.log(\"Device registered\", JSON.stringify(registration));\n      this.storage.setFcmToken(registration.registrationId).then(() => {\n        console.log(\"set token to secure storage\");\n        this.storage.checkLoginStatus().then(res => {\n          if (res) {\n            this.auth.getMyIp(registration.registrationId).subscribe();\n          }\n        });\n      });\n    });\n\n    pushObject.on(\"error\").subscribe(error => console.error(\"Error with Push plugin\", error));\n  }\n\n  ngOnInit() {}\n\n  onScroll($event: CustomEvent<ScrollDetail>) {\n    if ($event && $event.detail && $event.detail.scrollTop) {\n      const scrollTop = $event.detail.scrollTop;\n      this.showToolbar = scrollTop >= 130;\n      this.currentColor = this.showToolbar ? \"dark\" : \"light\";\n    }\n  }\n\n  async onLogout() {\n    const alert = await this.alertController.create({\n      header: \"Logout\",\n      message: \"Are you sure you want to logout?\",\n      buttons: [\n        {\n          text: \"Cancel\",\n          role: \"cancel\",\n        },\n        {\n          text: \"Yes\",\n          handler: () => {\n            this.utils.showLoader();\n            this.auth.logout().subscribe(\n              res => {\n                this.utils.hideLoader();\n                if (res && res.Status === \"00\") {\n                  this.storage.logout().then(() => {\n                    this.navCtrl.navigateBack(\"/welcome\");\n                    this.utils.showAlert(\"Logged out\", \"You have been succssfully logged out of the session.\");\n                  });\n                } else {\n                  this.utils.showAlert(\"Error\", res.ErrorDesc);\n                }\n              },\n              err => {\n                this.utils.hideLoader();\n                this.utils.showAlert();\n              }\n            );\n          },\n        },\n      ],\n    });\n    await alert.present();\n  }\n\n  ionViewWillLeave() {\n    this.utils.hideLoader();\n  }\n\n  async changePassword() {\n    const alert = await this.alertController.create({\n      header: \"Change Password\",\n      inputs: [\n        {\n          type: \"password\",\n          placeholder: \"Old password\",\n          name: \"oldPass\",\n        },\n        {\n          type: \"password\",\n          placeholder: \"New password\",\n          name: \"newPass\",\n        },\n      ],\n      buttons: [\n        {\n          text: \"Cancel\",\n          role: \"cancel\",\n        },\n        {\n          text: \"Change\",\n          handler: async data => {\n            let oldpass = data.oldPass;\n            let regex = RegExp(\"^([a-zA-Z0-9~!@#$%^&*()_\\\\-+=|\\\\/?><;:.,]{5,30})$\");\n            if (data.newPass !== \"\" && data.oldPass !== \"\" && regex.test(oldpass)) {\n              let user = await this.storage.getUser();\n              this.utils.showLoader();\n              this.auth.changePassword(user.UserID, data.oldPass, data.newPass).subscribe(\n                async res => {\n                  this.utils.hideLoader();\n                  if (res && res.Status === \"00\") {\n                    const okAlert = await this.alertController.create({\n                      header: \"Successful\",\n                      backdropDismiss: false,\n                      message: \"Password has been changed successfully.\",\n                      buttons: [\n                        {\n                          text: \"OK\",\n                          handler: () => {\n                            this.navCtrl.navigateRoot(\"welcome\");\n                          },\n                        },\n                      ],\n                    });\n                    okAlert.present();\n                  } else if (res.ErrorCode === \"17\" || res.ErrorCode === \"03\") {\n                    this.utils.showAlert(\"Error\", res.ErrorDesc);\n                  } else {\n                    this.utils.showAlert(\"Error\", \"Some error occured. Please try again later.\");\n                  }\n                },\n                err => {\n                  this.utils.hideLoader();\n                  this.utils.showAlert();\n                }\n              );\n            }\n          },\n        },\n      ],\n    });\n    alert.present();\n  }\n\n  private avatarBackgroundMethod(): String {\n    return (\n      \"#\" +\n      (\n        \"000000\" +\n        Math.random()\n          .toString(16)\n          .slice(2, 8)\n          .toUpperCase()\n      ).slice(-6)\n    );\n  }\n}\n"],"sourceRoot":""}