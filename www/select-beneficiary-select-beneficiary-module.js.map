{"version":3,"sources":["webpack:///./src/app/models/beneficiary-filter.enum.ts","webpack:///./src/app/select-beneficiary/select-beneficiary.module.ts","webpack:///./src/app/select-beneficiary/select-beneficiary.page.html","webpack:///./src/app/select-beneficiary/select-beneficiary.page.scss","webpack:///./src/app/select-beneficiary/select-beneficiary.page.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA,IAAY,qBAMX;AAND,WAAY,qBAAqB;IAC/B,wCAAe;IACf,sDAA6B;IAC7B,0CAAiB;IACjB,0CAAiB;IACjB,wDAA+B;AACjC,CAAC,EANW,qBAAqB,KAArB,qBAAqB,QAMhC;;;;;;;;;;;;;;;;;;;;;;;ACNwC;AACM;AACF;AACU;AAEV;AAEqB;AAElE,IAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,8EAAqB;KACjC;CACF,CAAC;AAWF;IAAA;IAA0C,CAAC;IAA9B,2BAA2B;QATvC,8DAAQ,CAAC;YACR,OAAO,EAAE;gBACP,4DAAY;gBACZ,0DAAW;gBACX,0DAAW;gBACX,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;aAC9B;YACD,YAAY,EAAE,CAAC,8EAAqB,CAAC;SACtC,CAAC;OACW,2BAA2B,CAAG;IAAD,kCAAC;CAAA;AAAH;;;;;;;;;;;;ACzBxC,ypCAAypC,44BAA44B,gCAAgC,qBAAqB,8BAA8B,8HAA8H,kBAAkB,gFAAgF,mBAAmB,+FAA+F,sBAAsB,mH;;;;;;;;;;;ACAh+E,+BAA+B,6DAA6D,EAAE,cAAc,uBAAuB,uBAAuB,EAAE,+CAA+C,mnB;;;;;;;;;;;;;;;;;;;;;;ACA/H;AACV;AACR;AAEM;AACY;AAEL;AAOvE;IAaE,+BACU,OAAsB,EACtB,kBAAsC,EACtC,OAAuB,EACvB,IAAY,EACZ,eAAgC,EAChC,KAA2B;QAL3B,YAAO,GAAP,OAAO,CAAe;QACtB,uBAAkB,GAAlB,kBAAkB,CAAoB;QACtC,YAAO,GAAP,OAAO,CAAgB;QACvB,SAAI,GAAJ,IAAI,CAAQ;QACZ,oBAAe,GAAf,eAAe,CAAiB;QAChC,UAAK,GAAL,KAAK,CAAsB;QAlBrC,gBAAW,GAAG,KAAK,CAAC;QACpB,iBAAY,GAAG,OAAO,CAAC;QAEvB,sBAAiB,GAAG,IAAI,CAAC,sBAAsB,EAAE,CAAC;QAKlD,kBAAa,GAAY,KAAK,CAAC;IAW5B,CAAC;IAEJ,wCAAQ,GAAR,cAAY,CAAC;IAEb,gDAAgB,GAAhB;QAAA,iBAwCC;QAvCC,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,cAAI;YAC9B,IAAI,IAAI,IAAI,IAAI,CAAC,KAAK,EAAE;gBACtB,KAAI,CAAC,IAAI,CAAC,GAAG,CAAC;oBACZ,KAAI,CAAC,eAAe,GAAG,IAAI,CAAC;gBAC9B,CAAC,CAAC,CAAC;gBACH,KAAI,CAAC,kBAAkB;qBACpB,0BAA0B,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,KAAK,EAAE,qFAAqB,CAAC,KAAK,CAAC;qBAChF,SAAS,CACR,cAAI;oBACF,IAAI,IAAI,EAAE;wBACR,IAAI,IAAI,CAAC,MAAM,KAAK,IAAI,IAAI,IAAI,CAAC,SAAS,KAAK,IAAI,EAAE;4BACnD,KAAI,CAAC,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC;4BAC5C,KAAI,CAAC,uBAAuB,GAAG,IAAI,CAAC,eAAe,CAAC;yBACrD;6BAAM,IAAI,IAAI,CAAC,SAAS,KAAK,IAAI,EAAE;4BAClC,KAAI,CAAC,KAAK,CAAC,kBAAkB,EAAE,CAAC;yBACjC;6BAAM;4BACL,KAAI,CAAC,eAAe,GAAG,EAAE,CAAC;4BAC1B,KAAI,CAAC,uBAAuB,GAAG,EAAE,CAAC;yBACnC;qBACF;gBACH,CAAC,EACD,aAAG;oBACD,KAAI,CAAC,KAAK,CAAC,gBAAgB,EAAE,CAAC;gBAChC,CAAC,CACF,CAAC;gBACJ,0BAA0B;gBAC1B,6FAA6F;gBAC7F,kBAAkB;gBAClB,0BAA0B;gBAC1B,uFAAuF;gBACvF,kBAAkB;gBAClB,0BAA0B;gBAC1B,8FAA8F;gBAC9F,kBAAkB;gBAClB,0BAA0B;gBAC1B,uFAAuF;gBACvF,kBAAkB;aACnB;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,wCAAQ,GAAR,UAAS,MAAiC;QACxC,IAAI,MAAM,IAAI,MAAM,CAAC,MAAM,IAAI,MAAM,CAAC,MAAM,CAAC,SAAS,EAAE;YACtD,IAAM,SAAS,GAAG,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC;YAC1C,IAAI,CAAC,WAAW,GAAG,SAAS,IAAI,GAAG,CAAC;YACpC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,OAAO,CAAC;SACzD;IACH,CAAC;IAEO,sDAAsB,GAA9B;QACE,OAAO,CACL,GAAG;YACH,CACE,QAAQ;gBACR,IAAI,CAAC,MAAM,EAAE;qBACV,QAAQ,CAAC,EAAE,CAAC;qBACZ,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;qBACX,WAAW,EAAE,CACjB,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CACZ,CAAC;IACJ,CAAC;IAED,4CAAY,GAAZ;QACE,IAAI,CAAC,aAAa,GAAG,CAAC,IAAI,CAAC,aAAa,CAAC;IAC3C,CAAC;IAED,gDAAgB,GAAhB;QACE,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,CAAC;IAC1B,CAAC;IAED,sCAAM,GAAN;QAAA,iBAIC;QAHC,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,uBAAuB,CAAC,MAAM,CAAC,cAAI;YAC7D,OAAO,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,KAAI,CAAC,UAAU,CAAC,WAAW,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;QAC7E,CAAC,CAAC,CAAC;IACL,CAAC;IAED,uCAAO,GAAP;QACE,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,iBAAiB,CAAC,CAAC;IAClD,CAAC;IAED,2CAAW,GAAX,UAAY,WAAwB;QAClC,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,oBAAoB,EAAE,EAAE,KAAK,EAAE,EAAE,WAAW,EAAE,WAAW,EAAE,EAAE,CAAC,CAAC;IAC9F,CAAC;IA3GU,qBAAqB;QALjC,+DAAS,CAAC;YACT,QAAQ,EAAE,wBAAwB;YAClC,gIAA6C;;SAE9C,CAAC;+EAemB,4DAAa;YACF,uFAAkB;YAC7B,2EAAc;YACjB,oDAAM;YACK,8DAAe;YACzB,kFAAoB;OAnB1B,qBAAqB,CA4GjC;IAAD,4BAAC;CAAA;AA5GiC","file":"select-beneficiary-select-beneficiary-module.js","sourcesContent":["export enum BeneficiaryListFilter {\n  COUNT = \"COUNT\",\n  LAST_TR_DATE = \"LAST_TR_DATE\",\n  SUM_FC = \"SUM_FC\",\n  SUM_KD = \"SUM_KD\",\n  BENEFICIARYID = \"BENEFICIARYID\",\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SelectBeneficiaryPage } from './select-beneficiary.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SelectBeneficiaryPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [SelectBeneficiaryPage]\n})\nexport class SelectBeneficiaryPageModule {}\n","module.exports = \"<ion-header no-border>\\n  <ion-toolbar [class.show-background]=\\\"showToolbar\\\" style=\\\"padding: 8px 0 8px 0\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button text=\\\"\\\" [color]=\\\"currentColor\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button (click)=\\\"gotoAdd()\\\">\\n        <ion-icon [color]=\\\"currentColor\\\" slot=\\\"icon-only\\\" src=\\\"../../assets/add_benficiary.svg\\\"></ion-icon>\\n      </ion-button>\\n      <ion-button (click)=\\\"toggleSearch()\\\" *ngIf=\\\"beneficiaryList && beneficiaryList.length !== 0\\\">\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"ios-search\\\" [color]=\\\"currentColor\\\"></ion-icon>\\n      </ion-button>\\n      <!-- <ion-menu-toggle>\\n        <ion-button>\\n          <ion-icon [color]=\\\"currentColor\\\" src=\\\"../../assets/menu.svg\\\"></ion-icon>\\n        </ion-button>\\n      </ion-menu-toggle> -->\\n      <!-- <ion-menu-button [color]=\\\"currentColor\\\"></ion-menu-button> -->\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content fullscreen (ionScroll)=\\\"onScroll($event)\\\" [scrollEvents]=\\\"true\\\">\\n  <div class=\\\"container\\\">\\n    <div class=\\\"header\\\" style=\\\"height: 15vh; min-height: 15vh\\\">\\n      <h1 class=\\\"big-title\\\" style=\\\"color: white\\\">Select Beneficiary</h1>\\n    </div>\\n    <div class=\\\"content\\\" style=\\\"padding: 12px 22px 22px 22px\\\">\\n      <ion-searchbar *ngIf=\\\"searchEnabled\\\" [(ngModel)]=\\\"searchTerm\\\" [showCancelButton]=\\\"true\\\" (ionChange)=\\\"search()\\\"\\n        (ionCancel)=\\\"toggleSearch()\\\"></ion-searchbar>\\n      <div style=\\\"text-align: center\\\">\\n        <ion-spinner *ngIf=\\\"!beneficiaryList\\\"></ion-spinner>\\n      </div>\\n      <div *ngIf=\\\"beneficiaryList && beneficiaryList.length === 0\\\" class=\\\"no-data\\\">\\n        No beneficiary to select. Please add a new one.\\n      </div>\\n      <ion-list *ngIf=\\\"beneficiaryList && beneficiaryList.length !== 0\\\">\\n        <ion-item (click)=\\\"gotoDetails(beneficiary)\\\" *ngFor=\\\"let beneficiary of beneficiaryList\\\">\\n          <ion-avatar slot=\\\"start\\\">\\n            <div class=\\\"avatar\\\" [ngStyle]=\\\"{'background': beneficiary.Color}\\\">\\n              {{beneficiary.Name | slice:0:1}}\\n            </div>\\n          </ion-avatar>\\n          <ion-label>\\n            <h3 class=\\\"title-color\\\">\\n              {{beneficiary.Name}}\\n            </h3>\\n            <h3 class=\\\"subtitle-color\\\">\\n              {{beneficiary.AccNo}}\\n            </h3>\\n            <ion-label color=\\\"primary\\\" style=\\\"padding: 4px 0 8px 0\\\">{{beneficiary.BankName}}</ion-label>\\n          </ion-label>\\n        </ion-item>\\n      </ion-list>\\n    </div>\\n  </div>\\n</ion-content>\"","module.exports = \"ion-content {\\n  --background: linear-gradient(#0073d6, #84dffd, #00c0ff); }\\n\\nion-item {\\n  padding: 8px 0 0 0;\\n  --padding-start: 0; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL25pdGhpbi9mb2xrc2xvZ2ljL3Rlc3QvS3V3YWl0IEluZGlhIEFuZHJvaWQvc3JjL2FwcC9zZWxlY3QtYmVuZWZpY2lhcnkvc2VsZWN0LWJlbmVmaWNpYXJ5LnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDRTtFQUNFLHdEQUFhLEVBQUE7O0FBR2Y7RUFDRSxrQkFBa0I7RUFDbEIsa0JBQWdCLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9zZWxlY3QtYmVuZWZpY2lhcnkvc2VsZWN0LWJlbmVmaWNpYXJ5LnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIlxuICBpb24tY29udGVudCB7XG4gICAgLS1iYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoIzAwNzNkNiwgIzg0ZGZmZCwgIzAwYzBmZik7XG4gIH1cblxuICBpb24taXRlbSB7XG4gICAgcGFkZGluZzogOHB4IDAgMCAwO1xuICAgIC0tcGFkZGluZy1zdGFydDogMDtcbiAgfVxuICAiXX0= */\"","import { BeneficiaryListFilter } from \"./../models/beneficiary-filter.enum\";\nimport { StorageService } from \"./../api/storage/storage.service\";\nimport { Component, OnInit, NgZone } from \"@angular/core\";\nimport { ScrollDetail } from \"@ionic/core\";\nimport { NavController, AlertController } from \"@ionic/angular\";\nimport { BeneficiaryService } from \"../api/beneficiary/beneficiary.service\";\nimport { Beneficiary } from \"../models/beneficiary.interface\";\nimport { UtilsProviderService } from \"../utils/utils-provider.service\";\n\n@Component({\n  selector: \"app-select-beneficiary\",\n  templateUrl: \"./select-beneficiary.page.html\",\n  styleUrls: [\"./select-beneficiary.page.scss\"],\n})\nexport class SelectBeneficiaryPage implements OnInit {\n  showToolbar = false;\n  currentColor = \"light\";\n\n  avatarBackground2 = this.avatarBackgroundMethod();\n\n  beneficiaryList: Beneficiary[];\n  originalBeneficiaryList: Beneficiary[];\n\n  searchEnabled: boolean = false;\n\n  searchTerm: string;\n\n  constructor(\n    private navCtrl: NavController,\n    private beneficiaryService: BeneficiaryService,\n    private storage: StorageService,\n    private zone: NgZone,\n    private alertController: AlertController,\n    private utils: UtilsProviderService\n  ) {}\n\n  ngOnInit() {}\n\n  ionViewWillEnter() {\n    this.storage.getUser().then(user => {\n      if (user && user.token) {\n        this.zone.run(() => {\n          this.beneficiaryList = null;\n        });\n        this.beneficiaryService\n          .getBeneficiaryListByFilter(user.UserID, user.token, BeneficiaryListFilter.COUNT)\n          .subscribe(\n            data => {\n              if (data) {\n                if (data.Status !== \"01\" && data.ErrorCode !== \"15\") {\n                  this.beneficiaryList = data.BeneficiaryList;\n                  this.originalBeneficiaryList = data.BeneficiaryList;\n                } else if (data.ErrorCode === \"94\") {\n                  this.utils.showSessionExpired();\n                } else {\n                  this.beneficiaryList = [];\n                  this.originalBeneficiaryList = [];\n                }\n              }\n            },\n            err => {\n              this.utils.showAlertAndBack();\n            }\n          );\n        // this.beneficiaryService\n        //   .getBeneficiaryListByFilter(user.UserID, user.token, BeneficiaryListFilter.LAST_TR_DATE)\n        //   .subscribe();\n        // this.beneficiaryService\n        //   .getBeneficiaryListByFilter(user.UserID, user.token, BeneficiaryListFilter.SUM_FC)\n        //   .subscribe();\n        // this.beneficiaryService\n        //   .getBeneficiaryListByFilter(user.UserID, user.token, BeneficiaryListFilter.BENEFICIARYID)\n        //   .subscribe();\n        // this.beneficiaryService\n        //   .getBeneficiaryListByFilter(user.UserID, user.token, BeneficiaryListFilter.SUM_KD)\n        //   .subscribe();\n      }\n    });\n  }\n\n  onScroll($event: CustomEvent<ScrollDetail>) {\n    if ($event && $event.detail && $event.detail.scrollTop) {\n      const scrollTop = $event.detail.scrollTop;\n      this.showToolbar = scrollTop >= 130;\n      this.currentColor = this.showToolbar ? \"dark\" : \"light\";\n    }\n  }\n\n  private avatarBackgroundMethod(): String {\n    return (\n      \"#\" +\n      (\n        \"000000\" +\n        Math.random()\n          .toString(16)\n          .slice(2, 8)\n          .toUpperCase()\n      ).slice(-6)\n    );\n  }\n\n  toggleSearch() {\n    this.searchEnabled = !this.searchEnabled;\n  }\n\n  ionViewWillLeave() {\n    this.utils.hideLoader();\n  }\n\n  search() {\n    this.beneficiaryList = this.originalBeneficiaryList.filter(item => {\n      return item.Name.toLowerCase().indexOf(this.searchTerm.toLowerCase()) > -1;\n    });\n  }\n\n  gotoAdd() {\n    this.navCtrl.navigateForward(\"add-beneficiary\");\n  }\n\n  gotoDetails(beneficiary: Beneficiary) {\n    this.navCtrl.navigateForward(\"remittance-details\", { state: { beneficiary: beneficiary } });\n  }\n}\n"],"sourceRoot":""}